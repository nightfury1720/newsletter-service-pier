# Server Configuration
PORT=8000
NODE_ENV=development

# Database Configuration
# PostgreSQL connection string in format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@localhost:5432/postgres

# Redis Configuration (Required for Bull Queue - used for email job processing)
# Option 1: Use connection string (recommended for cloud providers like Upstash)
REDIS_URL=rediss://default:YOUR_PASSWORD@YOUR_HOST:6379
# Option 2: Use individual settings (for local or custom setups)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_TLS=false

# SMTP Configuration (Required for sending emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
# Set to 'true' for port 465 (SSL), 'false' for port 587 (TLS)
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=your-email@gmail.com
SMTP_FROM_NAME=Newsletter Service

# Rate Limiting (Email sending rate control)
# Number of emails to send per second (affects queue processing speed)
EMAILS_PER_SECOND=10

# Circuit Breaker Configuration (Protects against SMTP failures)
# Number of consecutive failures before opening circuit
CIRCUIT_BREAKER_THRESHOLD=5
# Time in milliseconds before attempting to close circuit again
CIRCUIT_BREAKER_TIMEOUT=60000

# Logging Configuration
LOG_LEVEL=info
LOG_DIR=./logs

# Optional: CORS Configuration (if needed for specific frontend domains)
# CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Optional: Graceful Shutdown Timeout (milliseconds, default: 30000)
# SHUTDOWN_TIMEOUT=30000

